C51 COMPILER V9.52.0.0   SOUND_TYPE                                                        03/30/2019 11:40:34 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE SOUND_TYPE
OBJECT MODULE PLACED IN ..\OBJ\Sound_Type.obj
COMPILER INVOKED BY: D:\Keil4\C51\BIN\C51.EXE ..\CODE\Sound_Type.c LARGE OBJECTADVANCED OPTIMIZE(9,SIZE) BROWSE ORDER NO
                    -AREGS INCDIR(..\HARDWARE\ds1302;..\HARDWARE\ds18b20;..\HARDWARE\lcd;..\HARDWARE\RX8010;..\HARDWARE\sht21;..\HARDWARE\sht
                    -31;..\HARDWARE\w25x;..\SYSTEM\delay;..\SYSTEM\stc_eeprom;..\SYSTEM;..\CODE) DEBUG PRINT(.\Sound_Type.lst) TABS(2) OBJECT
                    -(..\OBJ\Sound_Type.obj)

line level    source

   1          #include "Sound_Type.h"
   2          #include "all.h"
   3          
   4          static unsigned char Sound_En_Cnt = 0;
   5          static unsigned int SoundPauseCnt = 0;
   6          
   7          //2019.03.30
   8          sbit P43 = 0xC0^3;
   9          
  10          void Sound_Short(void)//哔短响一声
  11          { 
  12   1        if(AlarmInfoIndex)//当前是报警状态,无声音
  13   1        {
  14   2        }
  15   1        else
  16   1        {
  17   2          Sound_En_Cnt = 10;    
  18   2        }
  19   1      }
  20          
  21          void Sound_Alarm_Pause_Enable(void)//声音暂停开启，时间重置
  22          { 
  23   1        SoundPauseCnt = (90 * 50);//90S计时
  24   1      }
  25          
  26          void Sound_Alarm_Pause_Disable(void)//声音暂停取消
  27          { 
  28   1        SoundPauseCnt = 0;//90S计时
  29   1      }
  30          
  31          void Sound_Type_Drive(void)//放入定时中断
  32          {
  33   1        if(AlarmInfoIndex)//当前是报警状态
  34   1        {
  35   2          if(SoundPauseCnt == 0)//声音暂停取消
  36   2          {
  37   3            Buzzer_Port=1;
  38   3            AlarmSoundPauseStatus = 0;//声音暂停取消
  39   3          }
  40   2          else//声音暂停
  41   2          {
  42   3            SoundPauseCnt--;  
  43   3            Buzzer_Port=0;      
  44   3          }
  45   2        }
  46   1        else//非报警状态
  47   1        {
  48   2          if(Sound_En_Cnt)
  49   2          {
  50   3            Buzzer_Port=1;
  51   3            Sound_En_Cnt--;
  52   3          }
C51 COMPILER V9.52.0.0   SOUND_TYPE                                                        03/30/2019 11:40:34 PAGE 2   

  53   2          else
  54   2          {
  55   3            Buzzer_Port=0;
  56   3          }
  57   2        }
  58   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     94    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      3    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
