C51 COMPILER V9.52.0.0   SOUND_TYPE                                                        04/08/2019 16:01:00 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE SOUND_TYPE
OBJECT MODULE PLACED IN ..\OBJ\Sound_Type.obj
COMPILER INVOKED BY: D:\Keil4\C51\BIN\C51.EXE ..\CODE\Sound_Type.c LARGE OBJECTADVANCED OPTIMIZE(9,SIZE) BROWSE ORDER NO
                    -AREGS INCDIR(..\HARDWARE\ds1302;..\HARDWARE\ds18b20;..\HARDWARE\lcd;..\HARDWARE\RX8010;..\HARDWARE\sht21;..\HARDWARE\sht
                    -31;..\HARDWARE\w25x;..\SYSTEM\delay;..\SYSTEM\stc_eeprom;..\SYSTEM;..\CODE) DEBUG PRINT(.\Sound_Type.lst) TABS(2) OBJECT
                    -(..\OBJ\Sound_Type.obj)

line level    source

   1          #include "Sound_Type.h"
   2          #include "all.h"
   3          
   4          static uint8_t Sound_En_Cnt = 0;
   5          static uint16_t SoundPauseCnt = 0;
   6          
   7          //2019.03.30
   8          sbit P43 = (uint8_t)0xC0^(uint8_t)3;
   9          
  10          void Sound_Short(void)//哔短响一声
  11          { 
  12   1        if(AlarmInfoIndex!=(uint8_t)0)//当前是报警状态,无声音
  13   1        {
  14   2          //do nothing
  15   2        }
  16   1        else
  17   1        {
  18   2          Sound_En_Cnt = 10;    
  19   2        }
  20   1      }
  21          
  22          void Sound_Alarm_Pause_Enable(void)//声音暂停开启，时间重置
  23          { 
  24   1        SoundPauseCnt = (90 * 50);//90S计时
  25   1      }
  26          
  27          void Sound_Alarm_Pause_Disable(void)//声音暂停取消
  28          { 
  29   1        SoundPauseCnt = 0;//90S计时
  30   1      }
  31          
  32          void Sound_Type_Drive(void)//放入定时中断
  33          {
  34   1        if(AlarmInfoIndex!=(uint8_t)0)//当前是报警状态
  35   1        {
  36   2          if(SoundPauseCnt == 0)//声音暂停取消
  37   2          {
  38   3            Buzzer_Port=1;
  39   3            AlarmSoundPauseStatus = 0;//声音暂停取消
  40   3          }
  41   2          else//声音暂停
  42   2          {
  43   3            SoundPauseCnt--;  
  44   3            Buzzer_Port=0;      
  45   3          }
  46   2        }
  47   1        else//非报警状态
  48   1        {
  49   2          if(Sound_En_Cnt!=(uint8_t)0)
  50   2          {
  51   3            Buzzer_Port=1;
  52   3            Sound_En_Cnt--;
C51 COMPILER V9.52.0.0   SOUND_TYPE                                                        04/08/2019 16:01:00 PAGE 2   

  53   3          }
  54   2          else
  55   2          {
  56   3            Buzzer_Port=0;
  57   3          }
  58   2        }
  59   1      }
  60          
  61          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     94    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      3    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
